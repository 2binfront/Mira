var ce=Object.defineProperty,de=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var W=(a,o,n)=>o in a?ce(a,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[o]=n,G=(a,o)=>{for(var n in o||(o={}))fe.call(o,n)&&W(a,n,o[n]);if(z)for(var n of z(o))pe.call(o,n)&&W(a,n,o[n]);return a},Y=(a,o)=>de(a,_e(o));import{c as he,u as me,a as e,R as U,N as v,D as q,A as ve,C as ye,b as ge,d as be,e as k,m as K,f as y,o as u,g,w as r,h as t,i as ke,j as _,t as L,k as f,I as we,l as b,n as $,F as w,r as I,p as V,q as Q,s as xe,S as Ne,v as Me,L as Se,x as Ce,y as Ee,B as Oe,z as De,E as Le,M as X,G as E,H as $e,J as x,K as M,O as j,P as Ie,Q as Z,T as je,U as Fe,V as Pe,W as O,X as ee,Y as Ae,Z as te,_ as oe,$ as Te,a0 as ae,a1 as Re,a2 as Ue,a3 as ne,a4 as Ve,a5 as Be,a6 as He,a7 as F,a8 as Je,a9 as ze,aa as We,ab as P,ac as Ge,ad as Ye,ae as qe,af as Ke,ag as Qe,ah as B,ai as Xe,aj as Ze,ak as et,al as tt,am as ot,an as at,ao as nt}from"./vendor.000df4d1.js";const rt=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};rt();const S="/NJU-Mirror-Frontend/configs/",re=750,se=Symbol(),st=he({state:{isMobile:document.body.clientWidth<re,darkMode:sessionStorage.getItem("darkMode")=="true",docItems:[],downloadContents:[]},mutations:{setWidth(a,o){a.isMobile=o<re},setDarkMode(a,o){a.darkMode=o,sessionStorage.setItem("darkMode",o.toString())},setDocs(a,o){a.docItems=o},setDownloads(a,o){a.downloadContents=o}}}),D=()=>me(se),lt="modulepreload",le={},it="/NJU-Mirror-Frontend/",N=function(o,n){return!n||n.length===0?o():Promise.all(n.map(l=>{if(l=`${it}${l}`,l in le)return;le[l]=!0;const s=l.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${i}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":lt,s||(c.as="script",c.crossOrigin=""),c.href=l,document.head.appendChild(c),s)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",d)})})).then(()=>o())};function ut(a,o=""){return a.docItems.filter(n=>n.name.includes(o)).map(n=>({key:"/help/"+n.route,label:()=>e(U,{to:"/help/"+n.route},{default:()=>[n.name]})}))}function H(a){return a.map(o=>({key:`/download/${o.distro}`,label:()=>e(U,{to:`/download/${o.distro}`},{default:()=>[o.distro]})}))}function ct(a,o=""){const n=a.downloadContents.filter(l=>l.distro.includes(o));return[{label:"OS",key:"OS",icon:()=>e(v,null,{default:()=>[e(q,null,null)]}),children:H(n.filter(l=>l.category=="os"))},{label:"Apps",key:"Apps",icon:()=>e(v,null,{default:()=>[e(ve,null,null)]}),children:H(n.filter(l=>l.category=="app"))},{label:"Fonts",key:"Fonts",icon:()=>e(v,null,{default:()=>[e(ye,null,null)]}),children:H(n.filter(l=>l.category=="font"))}]}const A={},dt=[{name:"Mirrors",path:"/",component:()=>N(()=>import("./Mirrors.20ef212b.js"),["assets/Mirrors.20ef212b.js","assets/vendor.000df4d1.js"]),meta:{title:"Mirrors"}},{name:"Help",path:"/help",component:()=>N(()=>import("./Help.d7fbdb3b.js"),["assets/Help.d7fbdb3b.js","assets/vendor.000df4d1.js"]),children:[{path:":distro",component:()=>N(()=>import("./Help.d7fbdb3b.js"),["assets/Help.d7fbdb3b.js","assets/vendor.000df4d1.js"])}],meta:{title:"Help",sider:ut}},{name:"Downloads",path:"/download",component:()=>N(()=>import("./Downloads.fb3b39df.js"),["assets/Downloads.fb3b39df.js","assets/vendor.000df4d1.js"]),children:[{path:":distro",component:()=>N(()=>import("./Downloads.fb3b39df.js"),["assets/Downloads.fb3b39df.js","assets/vendor.000df4d1.js"])}],meta:{title:"Downloads",sider:ct}},{name:"About",path:"/about",component:()=>N(()=>import("./About.85f88a88.js"),["assets/About.85f88a88.js","assets/About.eac15e90.css","assets/vendor.000df4d1.js"]),meta:{title:"About"}},{name:"Error",path:"/error",component:()=>N(()=>import("./Error.9e888823.js"),["assets/Error.9e888823.js","assets/vendor.000df4d1.js"]),meta:{title:"Error"}},{name:"NotFound",path:"/:pathMatch(.*)*",redirect:"/error"}],T=ge({history:be("/NJU-Mirror-Frontend/"),routes:dt});T.beforeEach((a,o,n)=>{var l;(l=A.value)==null||l.start(),n()});T.afterEach(a=>{var o,n;document.title=((o=a.meta)==null?void 0:o.title)||"NJU Mirror",(n=A.value)==null||n.finish()});T.onError(()=>{var a;(a=A.value)==null||a.error()});async function _t(){return(await k.get(S+"documentations/index.json")).data}async function Qt(a){const o=await k.get(S+`documentations/${a.path}`);return K(o.data)}var ft="/NJU-Mirror-Frontend/assets/logo.1303d0a3.png";const pt=()=>k.get(S+"cards/esci.json").then(a=>a.data),ht=()=>k.get(S+"cards/friends.json").then(a=>a.data);var mt=[pt,ht];const vt={class:"card-container"};var yt=y({props:{entry:null},setup(a){function o({name:n}){switch(n){case"male":return e(X,null,null);case"school":return e(Le,null,null);case"upload":return e(De,null,null);case"chart":return e(Oe,null,null);case"server":return e(Ee,null,null);case"repo":return e(Ce,null,null);case"gitlab":return e(Se,null,null);case"doc":return e(Me,null,null);case"speedometer":return e(Ne,null,null);case"monitor":return e(q,null,null);default:return e(xe,null,null)}}return(n,l)=>(u(),g("div",vt,[e(t(Q),{"content-style":"padding: 24px;",hoverable:""},{default:r(()=>[e(t(ke),null,{default:r(()=>[_(L(a.entry.title)+" ",1),a.entry.url?(u(),f(t(b),{key:0,tag:"a",text:"",href:a.entry.url,target:"_black"},{icon:r(()=>[e(t(v),{size:"16px"},{default:r(()=>[e(t(we))]),_:1})]),_:1},8,["href"])):$("",!0)]),_:1}),(u(!0),g(w,null,I(a.entry.links,(s,i)=>(u(),f(t(V),{key:i},{default:r(()=>[e(t(b),{text:"",tag:"a",href:s.url,target:"_blank"},{icon:r(()=>[e(t(v),{size:"16px"},{default:r(()=>[e(o,{name:s.icon},null,8,["name"])]),_:2},1024)]),default:r(()=>[_(L(s.title)+" ",1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1})]))}});var R=(a,o)=>{for(const[n,l]of o)a[n]=l;return a},gt=R(yt,[["__scopeId","data-v-23e064f5"]]);async function bt(){return(await k.get("https://git.nju.edu.cn/api/v4/projects/2412/issues")).data.map(n=>Y(G({},n),{title:n.title.replace(/\d+$/g,"")})).slice(0,6)}async function kt(){return(await k.get(S+"news/index.json")).data}async function wt(a){const o=await k.get(S+`news/${a.content}`);return K(o.data)}const xt=["innerHTML"],Nt=y({props:{content:null},setup(a){const o=D(),n=E(()=>o.state.darkMode?"dark":"light");return(l,s)=>(u(),g("div",{innerHTML:a.content,class:$e(`markdown-body ${t(n)}-scheme`)},null,10,xt))}});const Mt=_("NEWS"),St=y({setup(a){const o=x([]),n=x([]),l=x(void 0),s=x(!1),i=x("");M(()=>kt().then(d=>o.value=d)),M(()=>bt().then(d=>n.value=d));function c(d){return je.unix(d).format("YYYY.M.D")}async function h(d){i.value=await wt(d),l.value=d,s.value=!0}return(d,p)=>{var C;return u(),g(w,null,[e(t(Q),{"content-style":"padding: 0;",bordered:!1},{default:r(()=>[e(t(j),{"title-placement":"left"},{default:r(()=>[Mt]),_:1}),e(t(Ie),{type:"line",size:"small","tabs-padding":20,"pane-style":"padding: 20px;"},{default:r(()=>[e(t(Z),{name:"Mirror"},{default:r(()=>[(u(!0),g(w,null,I(o.value,m=>(u(),f(t(V),{key:m.content},{default:r(()=>[e(t(b),{text:"",tag:"a",onClick:Yt=>h(m)},{default:r(()=>[_(L(c(m.time)+" - "+m.name),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),e(t(Z),{name:"LUG Jokes"},{default:r(()=>[(u(!0),g(w,null,I(n.value,m=>(u(),f(t(V),{key:m.title},{default:r(()=>[e(t(b),{text:"",tag:"a",href:m.web_url,target:"_blank"},{default:r(()=>[_(L(m.title),1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(t(Fe),{style:{width:"600px"},preset:"card",size:"huge",bordered:!0,title:((C=l.value)==null?void 0:C.name)||"Null",show:s.value,"onUpdate:show":p[0]||(p[0]=m=>s.value=m)},{default:r(()=>[e(Nt,{content:i.value},null,8,["content"])]),_:1},8,["title","show"])],64)}}});var Ct=R(St,[["__scopeId","data-v-6235a1fa"]]);const Et=_("LINKS"),Ot=y({setup(a){const o=Pe([]);return M(()=>{mt.forEach(n=>n().then(l=>o.push(l)))}),(n,l)=>(u(),f(t(O),{style:{"overflow-x":"hidden","padding-bottom":"12px"},vertical:""},{default:r(()=>[e(Ct),e(t(j),{"title-placement":"left"},{default:r(()=>[Et]),_:1}),(u(!0),g(w,null,I(t(o),s=>(u(),f(gt,{key:s.title,entry:s},null,8,["entry"]))),128))]),_:1}))}}),Dt=_("ENTRIES"),ie=y({setup(a){const o=ee(),n=D(),l=x(""),s=E(()=>{var h;const c=(h=o.meta)==null?void 0:h.sider;return c==null?void 0:c(n.state,l.value)});function i(c){l.value=c}return(c,h)=>t(s)?(u(),f(t(O),{key:1,style:{"overflow-x":"hidden",padding:"0"},vertical:""},{default:r(()=>[e(t(j),{"title-placement":"left"},{default:r(()=>[Dt]),_:1}),e(t(O),{vertical:"",style:{padding:"0 12px"}},{default:r(()=>[e(t(Ae),{placeholder:"Search entries...",onInput:i})]),_:1}),e(t(te),{options:t(s),value:t(o).path},null,8,["options","value"])]),_:1})):(u(),f(Ot,{key:0}))}}),ue=a=>(Be("data-v-65170763"),a=a(),He(),a),Lt=ue(()=>F("img",{src:ft,alt:"Mirror Logo"},null,-1)),$t=ue(()=>F("span",null,"NJU Mirror",-1));function It(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!Je(a)}var jt=y({setup(a){const o=D(),n=ee(),l=oe(),s=(d,p)=>({label:()=>e(U,{to:d},It(p)?p:{default:()=>[p]}),key:d}),i=x(!1),c={label:()=>e(ze,{defaultValue:o.state.darkMode,onUpdateValue:d=>{o.commit("setDarkMode",d),l.info(`Side of ${d?"Tairitsu":"Hikari"}`)}},{checked:()=>"Conflict",unchecked:()=>"Light"}),key:"darkmode"},h=[s("/","Mirrors"),s("/download","Downloads"),s("/help","Help"),s("/about","About"),c];return(d,p)=>(u(),g(w,null,[e(t(O),{class:"navi-bar",justify:"space-between",style:{height:"var(--header-height)"}},{default:r(()=>[e(t(Te),{class:"logo-container"},{default:r(()=>[Lt,$t]),_:1}),e(t(ae),{style:{height:"100%"}},{default:r(()=>[t(o).state.isMobile?(u(),f(t(b),{key:0,text:"",class:"collapse-button",onClick:p[0]||(p[0]=C=>i.value=!0)},{default:r(()=>[e(t(v),null,{default:r(()=>[e(t(Re))]),_:1})]),_:1})):$("",!0),t(o).state.isMobile?(u(),f(t(ne),{key:2,options:h,placement:"bottom-end",trigger:"click"},{default:r(()=>[e(t(b),{text:"",class:"collapse-button"},{default:r(()=>[e(t(v),null,{default:r(()=>[e(t(Ue))]),_:1})]),_:1})]),_:1})):(u(),f(t(te),{key:1,value:t(n).path,options:h,mode:"horizontal"},null,8,["value"]))]),_:1})]),_:1}),t(o).state.isMobile?(u(),f(t(Ve),{key:0,placement:"right",show:i.value,"onUpdate:show":p[1]||(p[1]=C=>i.value=C),width:"min(360px, 80%)","native-scrollbar":!1},{default:r(()=>[e(ie)]),_:1},8,["show"])):$("",!0)],64))}});var Ft=R(jt,[["__scopeId","data-v-65170763"]]);const Pt=_("NJU Open Source Mirror"),At=_("This mirror site is maintained by @yaoge123"),Tt=_("Frontend by Iori@LinuxUserGroup"),Rt=_("Special thanks to tuna for their documentations"),Ut=_(" Report Bugs "),Vt=_(" Source Code "),Bt=_(" Join NJU LUG "),Ht=_("\u4EBA\u5DE5\u5FAE\u7ED3\u6784\u79D1\u5B66\u4E0E\u6280\u672F\u534F\u540C\u521B\u65B0\u4E2D\u5FC3 \u82CFICP\u590710085945-1\u53F7 \u5357\u4FE1\u5907568\u53F7"),Jt=y({setup(a){const o=[{label:"Via Mail",key:"mailto:git+nju-lug-nju-mirror-frontend-2901-issue-@yaoge123.cn"},{label:"Via GitHub",key:"https://github.com/iori2333/NJU-Mirror-Frontend/issues"},{label:"Via NJU Git",key:"https://git.nju.edu.cn/nju-lug/"}];function n(l){window.open(l)}return(l,s)=>(u(),g(w,null,[e(t(We),{prefix:"bar"},{default:r(()=>[Pt]),_:1}),e(t(O),{justify:"space-between"},{default:r(()=>[F("div",null,[e(t(P),{class:"footer-text"},{default:r(()=>[At]),_:1}),e(t(P),{class:"footer-text"},{default:r(()=>[Tt]),_:1}),e(t(P),{class:"footer-text"},{default:r(()=>[Rt]),_:1})]),e(t(ae),{vertical:""},{default:r(()=>[e(t(ne),{trigger:"click",onSelect:n,placement:"left-start",options:t(o)},{default:r(()=>[e(t(b),{text:""},{icon:r(()=>[e(t(v),{size:"16"},{default:r(()=>[e(t(Ge))]),_:1})]),default:r(()=>[Ut]),_:1})]),_:1},8,["options"]),e(t(b),{text:"",onClick:s[0]||(s[0]=i=>n("https://github.com/iori2333/NJU-Mirror-Frontend"))},{icon:r(()=>[e(t(v),{size:"16"},{default:r(()=>[e(t(Ye))]),_:1})]),default:r(()=>[Vt]),_:1}),e(t(b),{text:"",onClick:s[1]||(s[1]=i=>n("https://git.nju.edu.cn/nju-lug"))},{icon:r(()=>[e(t(v),{size:"16"},{default:r(()=>[e(t(X))]),_:1})]),default:r(()=>[Bt]),_:1})]),_:1})]),_:1}),e(t(P),null,{default:r(()=>[Ht]),_:1})],64))}});var zt=R(Jt,[["__scopeId","data-v-169fffca"]]);const Wt=y({setup(a){const o=D(),n=qe(),l=oe(),s=E(()=>o.state.isMobile);return M(()=>A.value=n),M(()=>_t().then(i=>o.commit("setDocs",i),i=>l.error(i.message))),(i,c)=>(u(),f(t(B),{position:"absolute"},{default:r(()=>[e(t(Ke),{style:{height:"var(--header-height)"}},{default:r(()=>[e(Ft)]),_:1}),e(t(B),{class:"content-layout",position:"absolute","has-sider":!0,"sider-placement":"left",style:{top:"var(--header-height)"}},{default:r(()=>[t(s)?$("",!0):(u(),f(t(Qe),{key:0,"native-scrollbar":!1,"collapsed-width":0,width:"320px","collapse-mode":"transform","trigger-style":"top: 50vh;","collapsed-trigger-style":"top: 50vh; right: -24px;",bordered:"","show-trigger":"arrow-circle"},{default:r(()=>[e(ie)]),_:1})),e(t(B),{"native-scrollbar":!1,"content-style":"display: flex; flex-direction: column; padding: 24px"},{default:r(()=>[e(t(Xe)),e(t(Ze),{right:50,style:{"z-index":"500"}}),e(t(j)),F("div",null,[e(zt)])]),_:1})]),_:1})]),_:1}))}});const Gt=y({setup(a){const o=D(),n=E(()=>o.state.darkMode?at:null),l=E(()=>({common:{primaryColor:o.state.darkMode?"#ffffff":"#6f106e",primaryColorHover:o.state.darkMode?"#fcfcfc":"#6f106e",primaryColorPressed:o.state.darkMode?"d4d4d4":"#560c56",primaryColorSuppl:"#6f106e"}}));return M(()=>{window.onresize=()=>o.commit("setWidth",document.body.clientWidth)}),(s,i)=>(u(),f(t(et),{theme:t(n),"theme-overrides":t(l)},{default:r(()=>[e(t(tt),null,{default:r(()=>[e(t(ot),null,{default:r(()=>[e(Wt)]),_:1})]),_:1})]),_:1},8,["theme","theme-overrides"]))}});const J=nt(Gt);J.use(st,se);J.use(T);J.mount("#app");export{S,Nt as _,R as a,Qt as f,D as u};
