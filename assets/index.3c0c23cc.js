var de=Object.defineProperty,_e=Object.defineProperties;var pe=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var W=(n,e,a)=>e in n?de(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,G=(n,e)=>{for(var a in e||(e={}))fe.call(e,a)&&W(n,a,e[a]);if(J)for(var a of J(e))he.call(e,a)&&W(n,a,e[a]);return n},Y=(n,e)=>_e(n,pe(e));import{c as me,u as ve,a as t,R,N as v,D as q,A as ye,C as ge,b as be,d as we,e as ke,m as K,f as y,M as Q,S as xe,g as Ne,B as Me,h as Ce,i as Se,L as Ee,j as Oe,k as De,l as X,o as u,n as _,w as r,p as o,q as g,r as Le,s as p,t as D,I as $e,v as b,x as L,F as w,y as $,z as U,E as Z,G as V,H as Ie,J as S,K as je,O as k,P as M,Q as I,T as Fe,U as ee,V as Pe,W as Te,X as E,Y as te,Z as Ae,_ as oe,$ as ne,a0 as Re,a1 as ae,a2 as Ue,a3 as Ve,a4 as re,a5 as Be,a6 as ze,a7 as He,a8 as j,a9 as Je,aa as We,ab as Ge,ac as F,ad as Ye,ae as qe,af as Ke,ag as Qe,ah as Xe,ai as B,aj as Ze,ak as et,al as tt,am as ot,an as nt,ao as at,ap as rt}from"./vendor.e94554ee.js";const st=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}};st();const C="/NJU-Mirror-Frontend/configs/",se=750,le=Symbol(),lt=me({state:{isMobile:document.body.clientWidth<se,darkMode:sessionStorage.getItem("darkMode")=="true",docItems:[],downloadContents:[]},mutations:{setWidth(n,e){n.isMobile=e<se},setDarkMode(n,e){n.darkMode=e,sessionStorage.setItem("darkMode",e.toString())},setDocs(n,e){n.docItems=e},setDownloads(n,e){n.downloadContents=e}}}),O=()=>ve(le),it="modulepreload",ie={},ut="/NJU-Mirror-Frontend/",x=function(e,a){return!a||a.length===0?e():Promise.all(a.map(l=>{if(l=`${ut}${l}`,l in ie)return;ie[l]=!0;const s=l.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${i}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":it,s||(c.as="script",c.crossOrigin=""),c.href=l,document.head.appendChild(c),s)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",h)})})).then(()=>e())};function ct(n,e=""){return n.docItems.filter(a=>a.name.includes(e)).map(a=>({key:"/help/"+a.route,label:()=>t(R,{to:"/help/"+a.route},{default:()=>[a.name]})}))}function z(n){return n.map(e=>({key:`/download/${e.distro}`,label:()=>t(R,{to:`/download/${e.distro}`},{default:()=>[e.distro]})}))}function dt(n,e=""){const a=n.downloadContents.filter(l=>l.distro.includes(e));return[{label:"OS",key:"OS",icon:()=>t(v,null,{default:()=>[t(q,null,null)]}),children:z(a.filter(l=>l.category=="os"))},{label:"Apps",key:"Apps",icon:()=>t(v,null,{default:()=>[t(ye,null,null)]}),children:z(a.filter(l=>l.category=="app"))},{label:"Fonts",key:"Fonts",icon:()=>t(v,null,{default:()=>[t(ge,null,null)]}),children:z(a.filter(l=>l.category=="font"))}]}const P={},_t=[{name:"Mirrors",path:"/",component:()=>x(()=>import("./Mirrors.3302acd9.js"),["assets/Mirrors.3302acd9.js","assets/vendor.e94554ee.js"]),meta:{title:"Mirrors"}},{name:"Help",path:"/help",component:()=>x(()=>import("./Help.d6c942ed.js"),["assets/Help.d6c942ed.js","assets/vendor.e94554ee.js"]),children:[{path:":distro",component:()=>x(()=>import("./Help.d6c942ed.js"),["assets/Help.d6c942ed.js","assets/vendor.e94554ee.js"])}],meta:{title:"Help",sider:ct}},{name:"Downloads",path:"/download",component:()=>x(()=>import("./Downloads.d405f8e6.js"),["assets/Downloads.d405f8e6.js","assets/vendor.e94554ee.js"]),children:[{path:":distro",component:()=>x(()=>import("./Downloads.d405f8e6.js"),["assets/Downloads.d405f8e6.js","assets/vendor.e94554ee.js"])}],meta:{title:"Downloads",sider:dt}},{name:"About",path:"/about",component:()=>x(()=>import("./About.9dfcb67e.js"),["assets/About.9dfcb67e.js","assets/About.eac15e90.css","assets/vendor.e94554ee.js"]),meta:{title:"About"}},{name:"Error",path:"/error",component:()=>x(()=>import("./Error.c4f054aa.js"),["assets/Error.c4f054aa.js","assets/vendor.e94554ee.js"]),meta:{title:"Error"}},{name:"NotFound",path:"/:pathMatch(.*)*",redirect:"/error"}],T=be({history:we("/NJU-Mirror-Frontend/"),routes:_t});T.beforeEach((n,e,a)=>{var l;(l=P.value)==null||l.start(),a()});T.afterEach(n=>{var e,a;document.title=((e=n.meta)==null?void 0:e.title)||"NJU Mirror",(a=P.value)==null||a.finish()});T.onError(()=>{var n;(n=P.value)==null||n.error()});async function N(n,e,a){const s=(await ke.get(n,a)).data;return e?e(s):s}async function pt(){return await N(C+"documentations/index.json")}async function eo(n){return await N(C+`documentations/${n.path}`,e=>K(e))}var ft="/NJU-Mirror-Frontend/assets/logo.1303d0a3.png";async function ht(){return await N(C+"cards/esci.json")}async function mt(){return await N(C+"cards/friends.json")}var vt=[ht,mt],yt=y({props:{name:null,size:null},setup(n){const{name:e,size:a}=n,l={male:t(Q,null,null),school:t(xe,null,null),upload:t(Ne,null,null),chart:t(Me,null,null),server:t(Ce,null,null),repo:t(Se,null,null),gitlab:t(Ee,null,null),doc:t(Oe,null,null),speedometer:t(De,null,null),monitor:t(q,null,null),unknown:t(X,null,null)},s=()=>l[e]||t(X,null,null);return(i,c)=>(u(),_(o(v),{size:n.size},{default:r(()=>[t(s)]),_:1},8,["size"]))}});const gt={class:"card-container"};var bt=y({props:{entry:null},setup(n){return(e,a)=>(u(),g("div",gt,[t(o(Z),{"content-style":"padding: 24px;",hoverable:""},{default:r(()=>[t(o(Le),null,{default:r(()=>[p(D(n.entry.title)+" ",1),n.entry.url?(u(),_(o(b),{key:0,tag:"a",text:"",href:n.entry.url,target:"_black"},{icon:r(()=>[t(o(v),{size:"16px"},{default:r(()=>[t(o($e))]),_:1})]),_:1},8,["href"])):L("",!0)]),_:1}),(u(!0),g(w,null,$(n.entry.links,(l,s)=>(u(),_(o(U),{key:s},{default:r(()=>[t(o(b),{text:"",tag:"a",href:l.url,target:"_blank"},{icon:r(()=>[t(yt,{name:l.icon||"un",size:16},null,8,["name"])]),default:r(()=>[p(D(l.title)+" ",1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1})]))}});var A=(n,e)=>{for(const[a,l]of e)n[a]=l;return n},wt=A(bt,[["__scopeId","data-v-5ee9eba2"]]);async function kt(){return(await N("https://git.nju.edu.cn/api/v4/projects/2412/issues")).map(e=>Y(G({},e),{title:e.title.replace(/\d+$/g,"")})).slice(0,6)}async function xt(){return await N(C+"news/index.json")}async function Nt(n){return await N(C+`news/${n.content}`,e=>K(e))}V.extend(Ie);function Mt(n,e="YYYY.M.D"){return V.unix(n).format(e)}function to(n){return V.unix(n).fromNow()}const Ct=["innerHTML"],St=y({props:{content:null},setup(n){const e=O(),a=S(()=>e.state.darkMode?"dark":"light");return(l,s)=>(u(),g("div",{innerHTML:n.content,class:je(`markdown-body ${o(a)}-scheme`)},null,10,Ct))}});const Et=p("NEWS"),Ot=y({setup(n){const e=k([]),a=k([]),l=k(void 0),s=k(!1),i=k("");M(()=>xt().then(d=>e.value=d)),M(()=>kt().then(d=>a.value=d));async function c(d){i.value=await Nt(d),l.value=d,s.value=!0}return(d,h)=>{var m;return u(),g(w,null,[t(o(Z),{"content-style":"padding: 0;",bordered:!1},{default:r(()=>[t(o(I),{"title-placement":"left"},{default:r(()=>[Et]),_:1}),t(o(Fe),{type:"line",size:"small","tabs-padding":20,"pane-style":"padding: 20px;"},{default:r(()=>[t(o(ee),{name:"Mirror"},{default:r(()=>[(u(!0),g(w,null,$(e.value,f=>(u(),_(o(U),{key:f.content},{default:r(()=>[t(o(b),{text:"",tag:"a",onClick:Qt=>c(f)},{default:r(()=>[p(D(o(Mt)(f.time)+" - "+f.name),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),t(o(ee),{name:"LUG Jokes"},{default:r(()=>[(u(!0),g(w,null,$(a.value,f=>(u(),_(o(U),{key:f.title},{default:r(()=>[t(o(b),{text:"",tag:"a",href:f.web_url,target:"_blank"},{default:r(()=>[p(D(f.title),1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),t(o(Pe),{style:{width:"600px"},preset:"card",size:"huge",bordered:!0,title:((m=l.value)==null?void 0:m.name)||"Null",show:s.value,"onUpdate:show":h[0]||(h[0]=f=>s.value=f)},{default:r(()=>[t(St,{content:i.value},null,8,["content"])]),_:1},8,["title","show"])],64)}}});var Dt=A(Ot,[["__scopeId","data-v-72f73560"]]);const Lt=p("LINKS"),$t=y({setup(n){const e=Te([]);return M(()=>{vt.forEach(a=>a().then(l=>e.push(l)))}),(a,l)=>(u(),_(o(E),{style:{"overflow-x":"hidden","padding-bottom":"12px"},vertical:""},{default:r(()=>[t(Dt),t(o(I),{"title-placement":"left"},{default:r(()=>[Lt]),_:1}),(u(!0),g(w,null,$(o(e),s=>(u(),_(wt,{key:s.title,entry:s},null,8,["entry"]))),128))]),_:1}))}}),It=p("ENTRIES"),ue=y({setup(n){const e=te(),a=O(),l=k(""),s=S(()=>{var d;const c=(d=e.meta)==null?void 0:d.sider;return c==null?void 0:c(a.state,l.value)});function i(c){l.value=c}return(c,d)=>o(s)?(u(),_(o(E),{key:1,style:{"overflow-x":"hidden",padding:"0"},vertical:""},{default:r(()=>[t(o(I),{"title-placement":"left"},{default:r(()=>[It]),_:1}),t(o(E),{vertical:"",style:{padding:"0 12px"}},{default:r(()=>[t(o(Ae),{placeholder:"Search entries...",onInput:i})]),_:1}),t(o(oe),{options:o(s),value:o(e).path},null,8,["options","value"])]),_:1})):(u(),_($t,{key:0}))}}),ce=n=>(ze("data-v-65170763"),n=n(),He(),n),jt=ce(()=>j("img",{src:ft,alt:"Mirror Logo"},null,-1)),Ft=ce(()=>j("span",null,"NJU Mirror",-1));function Pt(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Je(n)}var Tt=y({setup(n){const e=O(),a=te(),l=ne(),s=(h,m)=>({label:()=>t(R,{to:h},Pt(m)?m:{default:()=>[m]}),key:h}),i=k(!1),c={label:()=>t(We,{defaultValue:e.state.darkMode,onUpdateValue:h=>{e.commit("setDarkMode",h),l.info(`Side of ${h?"Tairitsu":"Hikari"}`)}},{checked:()=>"Conflict",unchecked:()=>"Light"}),key:"darkmode"},d=[s("/","Mirrors"),s("/download","Downloads"),s("/help","Help"),s("/about","About"),c];return(h,m)=>(u(),g(w,null,[t(o(E),{class:"navi-bar",justify:"space-between",style:{height:"var(--header-height)"}},{default:r(()=>[t(o(Re),{class:"logo-container"},{default:r(()=>[jt,Ft]),_:1}),t(o(ae),{style:{height:"100%"}},{default:r(()=>[o(e).state.isMobile?(u(),_(o(b),{key:0,text:"",class:"collapse-button",onClick:m[0]||(m[0]=f=>i.value=!0)},{default:r(()=>[t(o(v),null,{default:r(()=>[t(o(Ue))]),_:1})]),_:1})):L("",!0),o(e).state.isMobile?(u(),_(o(re),{key:2,options:d,placement:"bottom-end",trigger:"click"},{default:r(()=>[t(o(b),{text:"",class:"collapse-button"},{default:r(()=>[t(o(v),null,{default:r(()=>[t(o(Ve))]),_:1})]),_:1})]),_:1})):(u(),_(o(oe),{key:1,value:o(a).path,options:d,mode:"horizontal"},null,8,["value"]))]),_:1})]),_:1}),o(e).state.isMobile?(u(),_(o(Be),{key:0,placement:"right",show:i.value,"onUpdate:show":m[1]||(m[1]=f=>i.value=f),width:"min(360px, 80%)","native-scrollbar":!1},{default:r(()=>[t(ue)]),_:1},8,["show"])):L("",!0)],64))}});var At=A(Tt,[["__scopeId","data-v-65170763"]]);const Rt=p("NJU Open Source Mirror"),Ut=p("This mirror site is maintained by @yaoge123"),Vt=p("Frontend by Iori@LinuxUserGroup"),Bt=p("Special thanks to tuna for their documentations"),zt=p(" Report Bugs "),Ht=p(" Source Code "),Jt=p(" Join NJU LUG "),Wt=p("\u4EBA\u5DE5\u5FAE\u7ED3\u6784\u79D1\u5B66\u4E0E\u6280\u672F\u534F\u540C\u521B\u65B0\u4E2D\u5FC3 \u82CFICP\u590710085945-1\u53F7 \u5357\u4FE1\u5907568\u53F7"),Gt=y({setup(n){const e=[{label:"Via Mail",key:"mailto:git+nju-lug-nju-mirror-frontend-2901-issue-@yaoge123.cn"},{label:"Via GitHub",key:"https://github.com/iori2333/NJU-Mirror-Frontend/issues"},{label:"Via NJU Git",key:"https://git.nju.edu.cn/nju-lug/"}];function a(l){window.open(l)}return(l,s)=>(u(),g(w,null,[t(o(Ge),{prefix:"bar"},{default:r(()=>[Rt]),_:1}),t(o(E),{justify:"space-between"},{default:r(()=>[j("div",null,[t(o(F),{class:"footer-text"},{default:r(()=>[Ut]),_:1}),t(o(F),{class:"footer-text"},{default:r(()=>[Vt]),_:1}),t(o(F),{class:"footer-text"},{default:r(()=>[Bt]),_:1})]),t(o(ae),{vertical:""},{default:r(()=>[t(o(re),{trigger:"click",onSelect:a,placement:"left-start",options:o(e)},{default:r(()=>[t(o(b),{text:""},{icon:r(()=>[t(o(v),{size:"16"},{default:r(()=>[t(o(Ye))]),_:1})]),default:r(()=>[zt]),_:1})]),_:1},8,["options"]),t(o(b),{text:"",onClick:s[0]||(s[0]=i=>a("https://github.com/iori2333/NJU-Mirror-Frontend"))},{icon:r(()=>[t(o(v),{size:"16"},{default:r(()=>[t(o(qe))]),_:1})]),default:r(()=>[Ht]),_:1}),t(o(b),{text:"",onClick:s[1]||(s[1]=i=>a("https://git.nju.edu.cn/nju-lug"))},{icon:r(()=>[t(o(v),{size:"16"},{default:r(()=>[t(o(Q))]),_:1})]),default:r(()=>[Jt]),_:1})]),_:1})]),_:1}),t(o(F),null,{default:r(()=>[Wt]),_:1})],64))}});var Yt=A(Gt,[["__scopeId","data-v-169fffca"]]);const qt=y({setup(n){const e=O(),a=Ke(),l=ne(),s=S(()=>e.state.isMobile);return M(()=>P.value=a),M(()=>pt().then(i=>e.commit("setDocs",i),i=>l.error(i.message))),(i,c)=>(u(),_(o(B),{position:"absolute"},{default:r(()=>[t(o(Qe),{style:{height:"var(--header-height)"}},{default:r(()=>[t(At)]),_:1}),t(o(B),{class:"content-layout",position:"absolute","has-sider":!0,"sider-placement":"left",style:{top:"var(--header-height)"}},{default:r(()=>[o(s)?L("",!0):(u(),_(o(Xe),{key:0,"native-scrollbar":!1,"collapsed-width":0,width:"320px","collapse-mode":"transform","trigger-style":"top: 50vh;","collapsed-trigger-style":"top: 50vh; right: -24px;",bordered:"","show-trigger":"arrow-circle"},{default:r(()=>[t(ue)]),_:1})),t(o(B),{"native-scrollbar":!1,"content-style":"display: flex; flex-direction: column; padding: 24px"},{default:r(()=>[t(o(Ze)),t(o(et),{right:50,style:{"z-index":"500"}}),t(o(I)),j("div",null,[t(Yt)])]),_:1})]),_:1})]),_:1}))}});const Kt=y({setup(n){const e=O(),a=S(()=>e.state.darkMode?at:null),l=S(()=>({common:{primaryColor:e.state.darkMode?"#ffffff":"#6f106e",primaryColorHover:e.state.darkMode?"#fcfcfc":"#6f106e",primaryColorPressed:e.state.darkMode?"d4d4d4":"#560c56",primaryColorSuppl:"#6f106e"}}));return M(()=>{window.onresize=()=>e.commit("setWidth",document.body.clientWidth)}),(s,i)=>(u(),_(o(tt),{theme:o(a),"theme-overrides":o(l)},{default:r(()=>[t(o(ot),null,{default:r(()=>[t(o(nt),null,{default:r(()=>[t(qt)]),_:1})]),_:1})]),_:1},8,["theme","theme-overrides"]))}});const H=rt(Kt);H.use(lt,le);H.use(T);H.mount("#app");export{C as S,St as _,A as a,eo as f,N as g,to as t,O as u};
