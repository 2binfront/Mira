var ce=Object.defineProperty,de=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable;var W=(a,o,n)=>o in a?ce(a,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[o]=n,G=(a,o)=>{for(var n in o||(o={}))pe.call(o,n)&&W(a,n,o[n]);if(J)for(var n of J(o))fe.call(o,n)&&W(a,n,o[n]);return a},Y=(a,o)=>de(a,_e(o));import{c as he,u as me,a as e,R as V,N as v,D as q,A as ve,C as ye,b as ge,d as be,e as k,m as K,f as y,o as i,g,w as r,h as t,i as ke,j as _,t as L,k as p,I as we,l as b,n as $,F as w,r as I,p as B,q as Q,s as xe,S as Ne,v as Me,L as Se,x as Ce,y as Ee,B as Oe,z as De,E as Le,M as X,G as E,H as $e,J as x,K as M,O as j,P as Ie,Q as Z,T as je,U as Pe,V as Ae,W as O,X as ee,Y as Fe,Z as te,_ as oe,$ as Te,a0 as ae,a1 as Re,a2 as Ve,a3 as ne,a4 as Be,a5 as He,a6 as Ue,a7 as P,a8 as ze,a9 as Je,aa as We,ab as A,ac as Ge,ad as Ye,ae as qe,af as Ke,ag as Qe,ah as H,ai as Xe,aj as Ze,ak as et,al as tt,am as ot,an as at,ao as nt}from"./vendor.000df4d1.js";const rt=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}};rt();const S="/configs/",re=750,se=Symbol(),st=he({state:{isMobile:document.body.clientWidth<re,darkMode:sessionStorage.getItem("darkMode")=="true",docItems:[],downloadContents:[]},mutations:{setWidth(a,o){a.isMobile=o<re},setDarkMode(a,o){a.darkMode=o,sessionStorage.setItem("darkMode",o.toString())},setDocs(a,o){a.docItems=o},setDownloads(a,o){a.downloadContents=o}}}),D=()=>me(se),lt="modulepreload",le={},ut="/",N=function(o,n){return!n||n.length===0?o():Promise.all(n.map(l=>{if(l=`${ut}${l}`,l in le)return;le[l]=!0;const s=l.endsWith(".css"),u=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":lt,s||(c.as="script",c.crossOrigin=""),c.href=l,document.head.appendChild(c),s)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",d)})})).then(()=>o())};function it(a,o=""){return a.docItems.filter(n=>n.name.includes(o)).map(n=>({key:"/help/"+n.route,label:()=>e(V,{to:"/help/"+n.route},{default:()=>[n.name]})}))}function U(a){return a.map(o=>({key:`/download/${o.distro}`,label:()=>e(V,{to:`/download/${o.distro}`},{default:()=>[o.distro]})}))}function ct(a,o=""){const n=a.downloadContents.filter(l=>l.distro.includes(o));return[{label:"OS",key:"OS",icon:()=>e(v,null,{default:()=>[e(q,null,null)]}),children:U(n.filter(l=>l.category=="os"))},{label:"Apps",key:"Apps",icon:()=>e(v,null,{default:()=>[e(ve,null,null)]}),children:U(n.filter(l=>l.category=="app"))},{label:"Fonts",key:"Fonts",icon:()=>e(v,null,{default:()=>[e(ye,null,null)]}),children:U(n.filter(l=>l.category=="font"))}]}const F={},dt=[{name:"Mirrors",path:"/",component:()=>N(()=>import("./Mirrors.a6ac57d1.js"),["assets/Mirrors.a6ac57d1.js","assets/vendor.000df4d1.js"]),meta:{title:"Mirrors"}},{name:"Help",path:"/help",component:()=>N(()=>import("./Help.2e182cc0.js"),["assets/Help.2e182cc0.js","assets/vendor.000df4d1.js"]),children:[{path:":distro",component:()=>N(()=>import("./Help.2e182cc0.js"),["assets/Help.2e182cc0.js","assets/vendor.000df4d1.js"])}],meta:{title:"Help",sider:it}},{name:"Downloads",path:"/download",component:()=>N(()=>import("./Downloads.9e9b9f4b.js"),["assets/Downloads.9e9b9f4b.js","assets/vendor.000df4d1.js"]),children:[{path:":distro",component:()=>N(()=>import("./Downloads.9e9b9f4b.js"),["assets/Downloads.9e9b9f4b.js","assets/vendor.000df4d1.js"])}],meta:{title:"Downloads",sider:ct}},{name:"About",path:"/about",component:()=>N(()=>import("./About.e668944c.js"),["assets/About.e668944c.js","assets/About.74607da1.css","assets/vendor.000df4d1.js"]),meta:{title:"About"}},{name:"Error",path:"/error",component:()=>N(()=>import("./Error.9e888823.js"),["assets/Error.9e888823.js","assets/vendor.000df4d1.js"]),meta:{title:"Error"}},{name:"NotFound",path:"/:pathMatch(.*)*",redirect:"/error"}],T=ge({history:be(),routes:dt});T.beforeEach((a,o,n)=>{var l;(l=F.value)==null||l.start(),n()});T.afterEach(a=>{var o,n;document.title=((o=a.meta)==null?void 0:o.title)||"NJU Mirror",(n=F.value)==null||n.finish()});T.onError(()=>{var a;(a=F.value)==null||a.error()});async function _t(){return(await k.get(S+"documentations/index.json")).data}async function Qt(a){const o=await k.get(S+`documentations/${a.path}`);return K(o.data)}var pt="/assets/logo.1303d0a3.png";const ft=()=>k.get(S+"cards/esci.json").then(a=>a.data),ht=()=>k.get(S+"cards/friends.json").then(a=>a.data);var mt=[ft,ht];const vt={class:"card-container"};var yt=y({props:{entry:null},setup(a){function o({name:n}){switch(n){case"male":return e(X,null,null);case"school":return e(Le,null,null);case"upload":return e(De,null,null);case"chart":return e(Oe,null,null);case"server":return e(Ee,null,null);case"repo":return e(Ce,null,null);case"gitlab":return e(Se,null,null);case"doc":return e(Me,null,null);case"speedometer":return e(Ne,null,null);case"monitor":return e(q,null,null);default:return e(xe,null,null)}}return(n,l)=>(i(),g("div",vt,[e(t(Q),{"content-style":"padding: 24px;",hoverable:""},{default:r(()=>[e(t(ke),null,{default:r(()=>[_(L(a.entry.title)+" ",1),a.entry.url?(i(),p(t(b),{key:0,tag:"a",text:"",href:a.entry.url,target:"_black"},{icon:r(()=>[e(t(v),{size:"16px"},{default:r(()=>[e(t(we))]),_:1})]),_:1},8,["href"])):$("",!0)]),_:1}),(i(!0),g(w,null,I(a.entry.links,(s,u)=>(i(),p(t(B),{key:u},{default:r(()=>[e(t(b),{text:"",tag:"a",href:s.url,target:"_blank"},{icon:r(()=>[e(t(v),{size:"16px"},{default:r(()=>[e(o,{name:s.icon},null,8,["name"])]),_:2},1024)]),default:r(()=>[_(L(s.title)+" ",1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1})]))}});var R=(a,o)=>{for(const[n,l]of o)a[n]=l;return a},gt=R(yt,[["__scopeId","data-v-66b6925a"]]);async function bt(){return(await k.get("https://git.nju.edu.cn/api/v4/projects/2412/issues")).data.map(n=>Y(G({},n),{title:n.title.replace(/\d+$/g,"")})).slice(0,6)}async function kt(){return(await k.get(S+"news/index.json")).data}async function wt(a){const o=await k.get(S+`news/${a.content}`);return K(o.data)}const xt=["innerHTML"],Nt=y({props:{content:null},setup(a){const o=D(),n=E(()=>o.state.darkMode?"dark":"light");return(l,s)=>(i(),g("div",{innerHTML:a.content,class:$e(`markdown-body ${t(n)}-scheme`)},null,10,xt))}});const Mt=_("NEWS"),St=y({setup(a){const o=x([]),n=x([]),l=x(void 0),s=x(!1),u=x("");M(()=>kt().then(d=>o.value=d)),M(()=>bt().then(d=>n.value=d));function c(d){return je.unix(d).format("YYYY.M.D")}async function h(d){u.value=await wt(d),l.value=d,s.value=!0}return(d,f)=>{var C;return i(),g(w,null,[e(t(Q),{"content-style":"padding: 0;",bordered:!1},{default:r(()=>[e(t(j),{"title-placement":"left"},{default:r(()=>[Mt]),_:1}),e(t(Ie),{type:"line",size:"small","tabs-padding":20,"pane-style":"padding: 20px;"},{default:r(()=>[e(t(Z),{name:"Mirror"},{default:r(()=>[(i(!0),g(w,null,I(o.value,m=>(i(),p(t(B),{key:m.content},{default:r(()=>[e(t(b),{text:"",tag:"a",onClick:Yt=>h(m)},{default:r(()=>[_(L(c(m.time)+" - "+m.name),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),e(t(Z),{name:"LUG Jokes"},{default:r(()=>[(i(!0),g(w,null,I(n.value,m=>(i(),p(t(B),{key:m.title},{default:r(()=>[e(t(b),{text:"",tag:"a",href:m.web_url,target:"_blank"},{default:r(()=>[_(L(m.title),1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(t(Pe),{style:{width:"600px"},preset:"card",size:"huge",bordered:!0,title:((C=l.value)==null?void 0:C.name)||"Null",show:s.value,"onUpdate:show":f[0]||(f[0]=m=>s.value=m)},{default:r(()=>[e(Nt,{content:u.value},null,8,["content"])]),_:1},8,["title","show"])],64)}}});var Ct=R(St,[["__scopeId","data-v-2ecbd636"]]);const Et=_("LINKS"),Ot=y({setup(a){const o=Ae([]);return M(()=>{mt.forEach(n=>n().then(l=>o.push(l)))}),(n,l)=>(i(),p(t(O),{style:{"overflow-x":"hidden","padding-bottom":"12px"},vertical:""},{default:r(()=>[e(Ct),e(t(j),{"title-placement":"left"},{default:r(()=>[Et]),_:1}),(i(!0),g(w,null,I(t(o),s=>(i(),p(gt,{key:s.title,entry:s},null,8,["entry"]))),128))]),_:1}))}}),Dt=_("ENTRIES"),ue=y({setup(a){const o=ee(),n=D(),l=x(""),s=E(()=>{var h;const c=(h=o.meta)==null?void 0:h.sider;return c==null?void 0:c(n.state,l.value)});function u(c){l.value=c}return(c,h)=>t(s)?(i(),p(t(O),{key:1,style:{"overflow-x":"hidden",padding:"0"},vertical:""},{default:r(()=>[e(t(j),{"title-placement":"left"},{default:r(()=>[Dt]),_:1}),e(t(O),{vertical:"",style:{padding:"0 12px"}},{default:r(()=>[e(t(Fe),{placeholder:"Search entries...",onInput:u})]),_:1}),e(t(te),{options:t(s),value:t(o).path},null,8,["options","value"])]),_:1})):(i(),p(Ot,{key:0}))}}),ie=a=>(He("data-v-11131f39"),a=a(),Ue(),a),Lt=ie(()=>P("img",{src:pt,alt:"Mirror Logo"},null,-1)),$t=ie(()=>P("span",null,"NJU Mirror",-1));function It(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!ze(a)}var jt=y({setup(a){const o=D(),n=ee(),l=oe(),s=(d,f)=>({label:()=>e(V,{to:d},It(f)?f:{default:()=>[f]}),key:d}),u=x(!1),c={label:()=>e(Je,{defaultValue:o.state.darkMode,onUpdateValue:d=>{o.commit("setDarkMode",d),l.info(`Side of ${d?"Tairitsu":"Hikari"}`)}},{checked:()=>"Conflict",unchecked:()=>"Light"}),key:"darkmode"},h=[s("/","Mirrors"),s("/download","Downloads"),s("/help","Help"),s("/about","About"),c];return(d,f)=>(i(),g(w,null,[e(t(O),{class:"navi-bar",justify:"space-between",style:{height:"var(--header-height)"}},{default:r(()=>[e(t(Te),{class:"logo-container"},{default:r(()=>[Lt,$t]),_:1}),e(t(ae),{style:{height:"100%"}},{default:r(()=>[t(o).state.isMobile?(i(),p(t(b),{key:0,text:"",class:"collapse-button",onClick:f[0]||(f[0]=C=>u.value=!0)},{default:r(()=>[e(t(v),null,{default:r(()=>[e(t(Re))]),_:1})]),_:1})):$("",!0),t(o).state.isMobile?(i(),p(t(ne),{key:2,options:h,placement:"bottom-end",trigger:"click"},{default:r(()=>[e(t(b),{text:"",class:"collapse-button"},{default:r(()=>[e(t(v),null,{default:r(()=>[e(t(Ve))]),_:1})]),_:1})]),_:1})):(i(),p(t(te),{key:1,value:t(n).path,options:h,mode:"horizontal"},null,8,["value"]))]),_:1})]),_:1}),t(o).state.isMobile?(i(),p(t(Be),{key:0,placement:"right",show:u.value,"onUpdate:show":f[1]||(f[1]=C=>u.value=C),width:"360","native-scrollbar":!1},{default:r(()=>[e(ue)]),_:1},8,["show"])):$("",!0)],64))}});var Pt=R(jt,[["__scopeId","data-v-11131f39"]]);const At=_("NJU Open Source Mirror"),Ft=_("This mirror site is maintained by @yaoge123"),Tt=_("Frontend by Iori@LinuxUserGroup"),Rt=_("Special thanks to tuna for their documentations"),Vt=_(" Report Bugs "),Bt=_(" Source Code "),Ht=_(" Join NJU LUG "),Ut=_("\u4EBA\u5DE5\u5FAE\u7ED3\u6784\u79D1\u5B66\u4E0E\u6280\u672F\u534F\u540C\u521B\u65B0\u4E2D\u5FC3 \u82CFICP\u590710085945-1\u53F7 \u5357\u4FE1\u5907568\u53F7"),zt=y({setup(a){const o=[{label:"Via Mail",key:"mailto:git+nju-lug-nju-mirror-frontend-2901-issue-@yaoge123.cn"},{label:"Via GitHub",key:"https://github.com/iori2333/NJU-Mirror-Frontend/issues"},{label:"Via NJU Git",key:"https://git.nju.edu.cn/nju-lug/"}];function n(l){window.open(l)}return(l,s)=>(i(),g(w,null,[e(t(We),{prefix:"bar"},{default:r(()=>[At]),_:1}),e(t(O),{justify:"space-between"},{default:r(()=>[P("div",null,[e(t(A),{class:"footer-text"},{default:r(()=>[Ft]),_:1}),e(t(A),{class:"footer-text"},{default:r(()=>[Tt]),_:1}),e(t(A),{class:"footer-text"},{default:r(()=>[Rt]),_:1})]),e(t(ae),{vertical:""},{default:r(()=>[e(t(ne),{trigger:"click",onSelect:n,placement:"left-start",options:t(o)},{default:r(()=>[e(t(b),{text:""},{icon:r(()=>[e(t(v),{size:"16"},{default:r(()=>[e(t(Ge))]),_:1})]),default:r(()=>[Vt]),_:1})]),_:1},8,["options"]),e(t(b),{text:"",onClick:s[0]||(s[0]=u=>n("https://github.com/iori2333/NJU-Mirror-Frontend"))},{icon:r(()=>[e(t(v),{size:"16"},{default:r(()=>[e(t(Ye))]),_:1})]),default:r(()=>[Bt]),_:1}),e(t(b),{text:"",onClick:s[1]||(s[1]=u=>n("https://git.nju.edu.cn/nju-lug"))},{icon:r(()=>[e(t(v),{size:"16"},{default:r(()=>[e(t(X))]),_:1})]),default:r(()=>[Ht]),_:1})]),_:1})]),_:1}),e(t(A),null,{default:r(()=>[Ut]),_:1})],64))}});var Jt=R(zt,[["__scopeId","data-v-629423a3"]]);const Wt=y({setup(a){const o=D(),n=qe(),l=oe(),s=E(()=>o.state.isMobile);return M(()=>F.value=n),M(()=>_t().then(u=>o.commit("setDocs",u),u=>l.error(u.message))),(u,c)=>(i(),p(t(H),{position:"absolute"},{default:r(()=>[e(t(Ke),{style:{height:"var(--header-height)"}},{default:r(()=>[e(Pt)]),_:1}),e(t(H),{class:"content-layout",position:"absolute","has-sider":!0,"sider-placement":"left",style:{top:"var(--header-height)"}},{default:r(()=>[t(s)?$("",!0):(i(),p(t(Qe),{key:0,"native-scrollbar":!1,"collapsed-width":0,width:"320px","collapse-mode":"transform","trigger-style":"top: 50vh;","collapsed-trigger-style":"top: 50vh; right: -24px;",bordered:"","show-trigger":"arrow-circle"},{default:r(()=>[e(ue)]),_:1})),e(t(H),{"native-scrollbar":!1,"content-style":"display: flex; flex-direction: column; padding: 24px"},{default:r(()=>[e(t(Xe)),e(t(Ze),{right:50,style:{"z-index":"500"}}),e(t(j)),P("div",null,[e(Jt)])]),_:1})]),_:1})]),_:1}))}});const Gt=y({setup(a){const o=D(),n=E(()=>o.state.darkMode?at:null),l=E(()=>({common:{primaryColor:o.state.darkMode?"#ffffff":"#6f106e",primaryColorHover:o.state.darkMode?"#fcfcfc":"#6f106e",primaryColorPressed:o.state.darkMode?"d4d4d4":"#560c56",primaryColorSuppl:"#6f106e"}}));return M(()=>{window.onresize=()=>o.commit("setWidth",document.body.clientWidth)}),(s,u)=>(i(),p(t(et),{theme:t(n),"theme-overrides":t(l)},{default:r(()=>[e(t(tt),null,{default:r(()=>[e(t(ot),null,{default:r(()=>[e(Wt)]),_:1})]),_:1})]),_:1},8,["theme","theme-overrides"]))}});const z=nt(Gt);z.use(st,se);z.use(T);z.mount("#app");export{S,Nt as _,R as a,Qt as f,D as u};
